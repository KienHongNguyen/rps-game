<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, Paper, Scissors Game</title>
</head>
<body>
    <!-- Title -->
    <h1>Welcome to the game of Rock, Paper, Scissors!</h1>

    <!-- Button for choices -->
    <button id="rock">Rock</button>
    <button class="btnChoice" id="paper">Paper</button>
    <button class="btnChoice" id="scissors">Scissors</button>

    <!-- Div to display results -->
    <div id="game-result">
        <p>Score - Human: 0, Computer: 0</p>
        <p>Game status: Ready to play!</p>
    </div>

    <script>
        // Choice
        const choice = ["rock", "paper", "scissors"];

        // 5-round game
        let humanScore = 0;
        let computerScore = 0;
        let roundCounter = 0;
        const totalRounds = 5;

        // Machine choice
        function getComputerChoice() {
            return computerChoice = choice[(Math.floor(Math.random() * choice.length))]
        }

        // Play one round
        function playRound(humanChoice, computerChoice) {
            if (humanChoice === computerChoice) {
                return "It's a tie! You both chose " + humanChoice;
            }

            const humanWins = 
                (humanChoice === "rock" && computerChoice === "scissors") ||
                (humanChoice === "paper" && computerChoice === "rock") ||
                (humanChoice === "scissors" && computerChoice === "paper");

            if (humanWins) {
                humanScore++;
                return `You win! ${humanChoice} beats ${computerChoice}!`;
            } else {
                computerScore++;
                return `Computer wins! ${computerChoice} beats ${humanChoice}!`;
            }
        }

        // Update result
        function updateResults(result) {
            const gameResult = document.getElementById("game-result");
            const status = `Human: ${humanScore}, Computer: ${computerScore}`;
            gameResult.innerHTML = `
                <p>Score - ${status}</p>
                <p>Game status: ${result}</p>
            `;
        }

        // Play game function
        function playGame (humanChoice) {
            const computerChoice = getComputerChoice();
            const result = playRound(humanChoice, computerChoice);
            updateResults(result);

            if (humanScore >= totalRounds) {
                endGame("You win the game!");
            } else if (computerScore >= totalRounds) {
                endGame("Computer wins the game!");
            }
        }

        // Button listener
        document.getElementById("rock").addEventListener("click", () => {
            playGame("rock");
        });

        document.getElementById("paper").addEventListener("click", () => {
            playGame("paper");
        });

        document.getElementById("scissors").addEventListener("click", () => {
            playGame("scissors");
        });            

        // End game
        function endGame(message) {
            updateResults(message);
            disableButtons();
        }

        function disableButtons() {
            document.getElementById("rock").disabled = true;
            document.getElementById("paper").disabled = true;
            document.getElementById("scissors").disabled = true;
        }
    </script>
    
</body>
</html>